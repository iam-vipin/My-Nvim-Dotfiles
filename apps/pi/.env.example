# -------------------------------
# Debug & Development
# -------------------------------
DEBUG=0
DEV_WORKSPACE_ID=

# -------------------------------
# FastAPI Configuration
# -------------------------------
FASTAPI_APP_HOST=0.0.0.0
FASTAPI_APP_PORT=8000
FASTAPI_APP_WORKERS=1
PI_BASE_PATH=/pi

# -------------------------------
# Sentry for error monitoring
# -------------------------------
SENTRY_DSN=https://...
SENTRY_ENVIRONMENT=

# -------------------------------
# CORS (Allowed frontend origins)
# -------------------------------
CORS_ALLOWED_ORIGINS='http://127.0.0.1:3000, http://localhost:3000, http://localhost:8000, http://127.0.0.1:8000, https://local.plane.so, https://pi-runway.plane.tools'

# -------------------------------
# Datadog (optional monitoring)
# -------------------------------
DD_ENABLED=1
DD_ENV=dev
DD_SERVICE=plane-pi-api
DD_AGENT_HOST=
DD_TRACE_SAMPLE_RATE=0

# -------------------------------
# Plane API
# -------------------------------
PLANE_API_HOST=https://api.plane.so
PLANE_FRONTEND_URL=https://app.plane.so
SESSION_COOKIE_NAME=session-id

# -------------------------------
# Database Configuration
# -------------------------------
# Plane follower database URL
FOLLOWER_POSTGRES_URI=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# Plane PI primary database
PLANE_PI_POSTGRES_USER=plane-pi
PLANE_PI_POSTGRES_PASSWORD=plane-pi
PLANE_PI_POSTGRES_HOST=localhost
PLANE_PI_POSTGRES_PORT=5432
PLANE_PI_POSTGRES_DB=plane-pi
PLANE_PI_DATABASE_URL=postgresql://${PLANE_PI_POSTGRES_USER}:${PLANE_PI_POSTGRES_PASSWORD}@${PLANE_PI_POSTGRES_HOST}:${PLANE_PI_POSTGRES_PORT}/${PLANE_PI_POSTGRES_DB}

# -------------------------------
# API Keys (for AI/LLM Providers)
# -------------------------------
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
CLAUDE_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
GROQ_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
COHERE_API_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

CUSTOM_LLM_ENABLED=true
CUSTOM_LLM_MODEL_KEY=lfm2.5-thinking
CUSTOM_LLM_BASE_URL=http://localhost:11434/v1
CUSTOM_LLM_API_KEY=abcdefghijklmnopqrstuvwxyz0123456789
CUSTOM_LLM_NAME=LFM-2.5-Thinking
CUSTOM_LLM_DESCRIPTION="LFM-2.5-Thinking is a self-hosted OpenAI-compatible model"
CUSTOM_LLM_MAX_TOKENS=128000

# Optional
OPENAI_BASE_URL=
CLAUDE_BASE_URL=
COHERE_BASE_URL=
GROQ_BASE_URL=

# -------------------------------
# OpenSearch
# -------------------------------
# One-time triggers to feed data from the database into the OpenSearch index.
# Used only for initial indexing (not for live sync).
# If DEV_WORKSPACE_ID is set, only that workspaceâ€™s data is indexed; otherwise, all workspaces are indexed.
FEED_ISSUES_DATA=0
FEED_PAGES_DATA=0
FEED_DOCS_DATA=0
FEED_SLICES=0

# Batch and scroll settings for indexing
BATCH_SIZE=64
SCROLL_TIMEOUT=10m

# Index prefix (Optional)
OPENSEARCH_INDEX_PREFIX=

# OpenSearch credentials
OPENSEARCH_URL=xxx
OPENSEARCH_USER=xxx
OPENSEARCH_PASSWORD=xxx

# Embedding model ID (for semantic search)
OPENSEARCH_ML_MODEL_ID=xxx
OPENSEARCH_EMBEDDING_DIMENSION=1536
EMBEDDING_MODEL=cohere/embed-v4.0

# -------------------------------
# AWS Bedrock / S3 (optional)
# -------------------------------
AWS_ACCESS_KEY_ID=xxx
AWS_SECRET_ACCESS_KEY=xxx
# AWS_SESSION_TOKEN is only required for temporary credentials (STS/assumed roles)
# If using permanent IAM user credentials (access key starts with AKIA), leave this empty
AWS_SESSION_TOKEN=
AWS_S3_BUCKET=xxx
AWS_S3_ENV=xxx
AWS_S3_REGION=xxx

# -------------------------------
# Celery & RabbitMQ (for background tasks)
# -------------------------------
# Task intervals (in seconds)
CELERY_VECTOR_SYNC_INTERVAL=3
CELERY_VECTOR_SYNC_ENABLED=1
CELERY_WORKSPACE_PLAN_SYNC_ENABLED=1
CELERY_WORKSPACE_PLAN_SYNC_INTERVAL=86400
CELERY_PI_MESSAGES_INDEX_SYNC_ENABLED=0
CELERY_DOCS_SYNC_ENABLED=1
CELERY_DOCS_SYNC_INTERVAL=86400

# RabbitMQ credentials
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=admin123
RABBITMQ_VHOST=/

# Celery broker
CELERY_BROKER_URL=pyamqp://${RABBITMQ_USER}:${RABBITMQ_PASSWORD}@rabbitmq:5672//

# -------------------------------
# Feature Flags
# -------------------------------
FEATURE_FLAG_SERVER_BASE_URL="https://preview.disco.plane.town"
FEATURE_FLAG_SERVER_AUTH_TOKEN="xxxxxxxxxxxx"

# -------------------------------
# PI Integration App (OAuth Credentials)
# -------------------------------
PLANE_OAUTH_REDIRECT_URI=https://plane-pi.plane.so/api/v1/oauth/callback/
PLANE_OAUTH_STATE_EXPIRY_SECONDS=82800
PLANE_OAUTH_URL_ENCRYPTION_KEY=
AES_SECRET_KEY=
AES_SALT=