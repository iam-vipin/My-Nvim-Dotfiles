import type { ISvgIcons } from "./type";
export type MilestoneIconVariant =
  | "default"
  | "done"
  | "in_progress"
  | "not_started_yet"
  | "started_no_progress"
  | "custom";

const BaseIcon = ({ fill, className }: { fill?: string; className?: string }) => (
  <svg viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg" className={className}>
    <path
      d="M14.0811 8.25C14.0811 8.13637 14.0586 8.02364 14.0151 7.91867C13.9825 7.8399 13.9385 7.76624 13.8845 7.70058L13.827 7.63767L9.16984 2.98049C9.08958 2.90021 8.9943 2.83645 8.88943 2.79296C8.78446 2.74945 8.67174 2.72707 8.55811 2.72705C8.44445 2.72705 8.33177 2.74945 8.22678 2.79296C8.12178 2.83649 8.02611 2.90009 7.94578 2.98049L3.2892 7.63767C3.20879 7.71801 3.14459 7.81367 3.10107 7.91867C3.05755 8.02367 3.03516 8.13634 3.03516 8.25C3.03518 8.36363 3.05755 8.47635 3.10107 8.58133C3.14456 8.68619 3.20831 8.78147 3.2886 8.86173L7.94578 13.5189C8.02612 13.5993 8.12176 13.6635 8.22678 13.707C8.33175 13.7505 8.44448 13.7729 8.55811 13.7729C8.67174 13.7729 8.78446 13.7506 8.88943 13.707C8.9944 13.6635 9.08952 13.5993 9.16984 13.5189L13.827 8.86233C13.9074 8.78201 13.9716 8.6863 14.0151 8.58133C14.0587 8.47635 14.081 8.36363 14.0811 8.25ZM15.3081 8.25C15.3081 8.52488 15.2534 8.79713 15.1481 9.05106C15.056 9.27328 14.9266 9.47781 14.7653 9.6556L14.6946 9.7299L10.038 14.3865C9.84378 14.5808 9.613 14.7348 9.35917 14.84C9.10524 14.9453 8.83298 15 8.55811 15C8.28321 15 8.01099 14.9453 7.75704 14.84C7.50308 14.7348 7.27191 14.581 7.07761 14.3865L2.42163 9.7299C2.22716 9.53561 2.07274 9.305 1.96748 9.05106C1.86222 8.79713 1.80812 8.52488 1.80811 8.25C1.80811 7.97514 1.86226 7.70285 1.96748 7.44894C2.07275 7.19497 2.22713 6.96381 2.42163 6.76951L7.07761 2.11353C7.27191 1.91903 7.50308 1.76465 7.75704 1.65937C8.01096 1.55415 8.28325 1.5 8.55811 1.5C8.83298 1.50002 9.10524 1.55412 9.35917 1.65937C9.6131 1.76464 9.84372 1.91906 10.038 2.11353L14.694 6.76951C14.8885 6.96381 15.0429 7.19497 15.1481 7.44894C15.2534 7.70289 15.3081 7.9751 15.3081 8.25Z"
      fill={fill ?? "currentColor"}
    />
  </svg>
);

const VARIANT_FILL_MAP: Record<MilestoneIconVariant, string> = {
  default: "#455068",
  done: "#1FAD40",
  in_progress: "#004EFF",
  not_started_yet: "#FF0000",
  started_no_progress: "#FF9500",
  custom: "",
};

export const MilestoneIcon = (props: ISvgIcons & { variant?: MilestoneIconVariant }) => {
  const { variant = "default", className } = props;

  if (variant === "done") {
    return (
      <svg viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg" className={className}>
        <path
          d="M15.3081 8.25C15.3081 8.52488 15.2534 8.79713 15.1481 9.05106C15.056 9.27328 14.9266 9.47781 14.7653 9.6556L14.6946 9.72989L10.038 14.3865C9.84378 14.5808 9.613 14.7348 9.35917 14.84C9.10524 14.9453 8.83299 15 8.55811 15C8.28321 15 8.01099 14.9453 7.75704 14.84C7.50308 14.7348 7.27191 14.581 7.07761 14.3865L2.42163 9.72989C2.22716 9.53561 2.07274 9.305 1.96748 9.05106C1.86222 8.79713 1.80812 8.52488 1.80811 8.25C1.80811 7.97514 1.86226 7.70285 1.96748 7.44894C2.07275 7.19497 2.22713 6.96381 2.42163 6.76951L7.07761 2.11353C7.27191 1.91903 7.50308 1.76465 7.75704 1.65937C8.01096 1.55415 8.28325 1.5 8.55811 1.5C8.83298 1.50002 9.10524 1.55412 9.35917 1.65937C9.6131 1.76464 9.84372 1.91906 10.038 2.11353L14.694 6.76951C14.8885 6.96381 15.0429 7.19497 15.1481 7.44894C15.2534 7.70289 15.3081 7.9751 15.3081 8.25Z"
          fill="#1FAD40"
        />
        <path
          fillRule="evenodd"
          clipRule="evenodd"
          d="M11.365 5.9388C11.6918 6.2296 11.7209 6.73021 11.4301 7.05696L8.4516 10.4037C8.1608 10.7305 7.66019 10.7596 7.33344 10.4688L5.66005 8.97959C5.3333 8.6888 5.30415 8.18818 5.59494 7.86143C5.88574 7.53468 6.38636 7.50553 6.71311 7.79633L7.79486 8.75905L10.2468 6.0039C10.5376 5.67715 11.0383 5.64801 11.365 5.9388Z"
          fill="white"
        />
      </svg>
    );
  }

  const fill = variant === "custom" ? props.fill : VARIANT_FILL_MAP[variant];
  return <BaseIcon fill={fill} className={className} />;
};
